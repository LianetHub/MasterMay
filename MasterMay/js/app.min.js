(()=>{"use strict";$((function(){!function(e){let o=new Image;o.onload=o.onerror=function(){1==(2==o.height)?$("body").addClass("webp"):$("body").addClass("no-webp")},o.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}();const e={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return e.Android()||e.BlackBerry()||e.iOS()||e.Opera()||e.Windows()}};function o(){e.any()||window.innerWidth<992?$("body").removeClass("_pc").addClass("_touch"):$("body").removeClass("_touch").addClass("_pc")}function t(){const e=$(".header").outerHeight();return $("body").css("--header-height",e+"px"),e}function n(){if(0===$(".promo").length)return;let e=$(".promo"),o=$(".promo__title"),n=$(".promo__logo"),i=$(".promo__column"),r=$(".promo__image");ScrollTrigger.matchMedia({"(min-width: 992px)":function(){!function(){let a=e.outerHeight();gsap.timeline({scrollTrigger:{trigger:e[0],start:"top top",end:"bottom top",scrub:!0,pin:!0}}).to([o,n,i],{opacity:0,height:0,paddingTop:0,paddingBottom:0,duration:1},0).to(r,{height:a-t(),marginTop:t(),duration:1},0)}()}})}o(),$(window).on("resize",(()=>o())),$(document).on("click",(function(e){let o=$(e.target);if(o.is(".favorite-btn")&&o.toggleClass("active"),o.hasClass("icon-menu")&&($(".header").toggleClass("open-menu"),$("body").toggleClass("lock-menu")),o.is(".menu")&&($(".header").removeClass("open-menu"),$("body").removeClass("lock-menu")),o.is(".menu__link")){let t=o.next();t.length>0&&e.preventDefault(),o.hasClass("active")?(o.removeClass("active"),t.removeClass("active")):($(".menu__link").removeClass("active"),$(".submenu").removeClass("active"),o.addClass("active"),t.addClass("active"))}})),$("[data-fancybox]").fancybox({touch:!1}),$(".cases__slider").length>0&&$(".cases__slider").slick({infinite:!0,centerMode:!0,centerPadding:"20px",slidesToShow:1}),$(".gallery__slider").length>0&&$(".gallery__slider").slick({infinite:!0,slidesToShow:1}),t(),window.addEventListener("resize",(()=>t())),$(window).on("scroll",(function(){$(this).scrollTop()>t()?$("header").addClass("scroll"):$("header").removeClass("scroll")})),gsap.registerPlugin(ScrollTrigger),n(),window.addEventListener("resize",(()=>{ScrollTrigger.getAll().forEach((e=>e.kill())),n()})),$(".project-card__image").length>0&&gsap.to(".project-card__image img",{y:"-20%",ease:"none",scrollTrigger:{trigger:".project-card",start:-1*t()+"px top",end:"bottom top",scrub:!0}})}))})();